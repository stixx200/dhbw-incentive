<div class="container">
    <mat-card>
        <mat-card-title>Add new user</mat-card-title>
        <mat-card-content>
            <mat-form-field class="full-width"><input [(ngModel)]="newUser.email" name="email" matInput
                    placeholder="email"></mat-form-field>
            <mat-form-field class="full-width"><input [(ngModel)]="newUser.firstname" name="firstname" matInput
                    placeholder="firstname"></mat-form-field>
            <mat-form-field class="full-width"><input [(ngModel)]="newUser.lastname" name="lastname" matInput
                    placeholder="lastname"></mat-form-field>
            <mat-form-field appearance="fill">
                <mat-label>Roles</mat-label>
                <mat-select [formControl]="roles" multiple>
                    <mat-select-trigger>
                        {{ roles.value?.[0] }}
                        <span *ngIf="(roles.value?.length || 0) > 1" class="additional-selection">
                            (+{{(roles.value?.length || 0) - 1}} {{(roles.value?.length || 0) === 2 ? 'other' :
                            'others'}})
                        </span>
                    </mat-select-trigger>
                    <mat-option *ngFor="let role of availableRoles" [value]="role">{{role}}</mat-option>
                </mat-select>
            </mat-form-field>
            <mat-form-field class="full-width"><input [(ngModel)]="newUser.password" name="password" matInput
                    placeholder="password"></mat-form-field>

            <app-assigned-users-form-field [(assignedUsers)]="newUser.assignedUsers"></app-assigned-users-form-field>

        </mat-card-content>
        <mat-divider inset></mat-divider>
        <mat-card-actions>
            <button mat-button (click)="newUser = emptyUser();">RESET</button>
            <button mat-button (click)="createNewUser();">SAVE</button>
        </mat-card-actions>
    </mat-card>
</div>